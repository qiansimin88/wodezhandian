<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="HandheldFriendly" content="true">
<meta name="MobileOptimized" content="320">
<title>Hello H5+</title>
<link rel="stylesheet" type="text/css" href="res/doc.css" charset="utf-8">
<link rel="stylesheet" type="text/css" href="res/prettify.sons.css" charset="utf-8">
<script type="text/javascript" src="res/doc.js" charset="utf-8"></script><script type="text/javascript" src="res/prettify.js" charset="utf-8"></script>
</head>
<body>
<header><div class="nvbt iback" onclick="back();"></div>
<div class="nvtt">Orientation Document</div></header><div id="content" class="content">
<h1><a name="plus.orientation">orientation</a></h1>
<p>Orientation模块管理设备的方向信息，包括alpha、beta、gamma三个方向信息，通过plus.orientation可获取设备方向管理对象。</p>
<h2>方法：</h2>
<ul>
<li>
<a href="#plus.orientation.getCurrentOrientation">getCurrentOrientation</a>: 获取当前设备的方向信息，包括alpha、beta、gamma三个方向信息</li>
<li>
<a href="#plus.orientation.watchOrientation">watchOrientation</a>: 监听设备方向信息的变化</li>
<li>
<a href="#plus.orientation.clearWatch">clearWatch</a>: 关闭监听设备方向信息</li>
</ul>
<h2>对象：</h2>
<ul>
<li>
<a href="#plus.orientation.OrientationOption">OrientationOption</a>: JSON对象，监听设备方向感应器参数</li>
<li>
<a href="#plus.orientation.Rotation">Rotation</a>: JSON对象，设备方向信息数据</li>
</ul>
<h2>回调方法：</h2>
<ul>
<li>
<a href="#plus.orientation.OrientationSuccessCallback">OrientationSuccessCallback</a>: 获取设备方向信息成功的回调函数</li>
<li>
<a href="#plus.orientation.OrientationErrorCallback">OrientationErrorCallback</a>: 获取设备方向信息失败的回调函数</li>
</ul>
<h2>权限：</h2>
<p>permissions</p>
<pre class="prettyprint linenums">
"Orientation": {
	"description": "访问方向感应器信息"
}
			</pre>
<h1><a name="plus.orientation.getCurrentOrientation">getCurrentOrientation</a></h1>
<p>获取当前设备的方向信息，包括alpha、beta、gamma三个方向信息</p>
<pre class="prettyprint linenums">
void plus.orientation.getCurrentOrientation( successCB, errorCB );
				</pre>
<h2>说明：</h2>
<p class="des">方向信息是设备相对于水平初始方向分别以z、x、y轴为轴心旋转的角度，对应值为alpha、beta、gamma三个方向的信息。 方向信息可通过successCB回调函数返回。方向信息获取失败则调用回调函数errorCB</p>
<h2>参数：</h2>
<ul>
<li>successCB: 
		<em>(
			<a href="#plus.orientation.OrientationSuccessCallback">OrientationSuccessCallback</a>
			)
			必选 </em>获取设备方向信息成功回调函数<br>
</li>
<li>errorCB: 
		<em>(
			<a href="#plus.orientation.OrientationErrorCallback">OrientationErrorCallback</a>
			)
			可选 </em>获取设备方向信息失败回调函数<br>
</li>
</ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持): 支持</li>
<li>iOS4.3+ (支持): 支持</li>
<li>WP7.5+ (支持): 暂不支持</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"&gt;
	&lt;title&gt;Orientation Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
// 扩展API加载完毕后调用onPlusReady回调函数 
document.addEventListener( "plusready", onPlusReady, false );
// 扩展API加载完毕，现在可以正常调用扩展API
function onPlusReady() {
	plus.orientation.getCurrentOrientation( function ( o ) {
		alert( "Orientation\nAlpha:" + o.alpha + "\nBeta:" + o.beta + "\nGamma:" + o.gamma );
	} ); 
}
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		Orientation
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.orientation.watchOrientation">watchOrientation</a></h1>
<p>监听设备方向信息的变化</p>
<pre class="prettyprint linenums">
Number plus.orientation.watchOrientation( successCB, errorCB, option );
				</pre>
<h2>说明：</h2>
<p class="des">方向信息是设备相对于水平初始方向分别以z、x、y轴为轴心旋转的角度，对应值为alpha、beta、gamma三个方向的信息。watchOrientation每隔固定时间就获取一次设备的方向信息，通过successCB回调函数返回。可通过option的frequency参数设定获取设备方向信息的时间间隔。方向信息获取失败则调用回调函数errorCB。</p>
<h2>参数：</h2>
<ul>
<li>successCB: 
		<em>(
			<a href="#plus.orientation.OrientationSuccessCallback">OrientationSuccessCallback</a>
			)
			必选 </em><br>获取设备方向信息成功回调函数</li>
<li>errorCB: 
		<em>(
			<a href="#plus.orientation.OrientationErrorCallback">OrientationErrorCallback</a>
			)
			可选 </em><br>获取设备方向信息失败回调函数</li>
<li>option: 
		<em>(
			<a href="#plus.orientation.OrientationOption">OrientationOption</a>
			)
			可选 </em><br>监听设备方向信息的参数，如更新数据的频率等</li>
</ul>
<h2>返回值：</h2>
<a href="#Number">Number</a>
			: 用于标识方向信息监听器，可通过clearWatch方法取消监听。<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持): 支持</li>
<li>iOS4.3+ (支持): 支持</li>
<li>WP7.5+ (支持): 暂不支持</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"&gt;
	&lt;title&gt;Orientation Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
// 扩展API加载完毕后调用onPlusReady回调函数 
document.addEventListener( "plusready", onPlusReady, false );
// 扩展API加载完毕，现在可以正常调用扩展API
function onPlusReady() {
	plus.orientation.watchOrientation( function ( o ) {
		alert( "Orientation\nAlpha:" + o.alpha + "\nBeta:" + o.beta + "\nGamma:" + o.gamma );
	}, function ( e ) {
		alert( "Orientation error: " + e.message ); 
	} ); 
}
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		Orientation watch
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.orientation.clearWatch">clearWatch</a></h1>
<p>关闭监听设备方向信息</p>
<pre class="prettyprint linenums">
void plus.orientation.clearWatch( watchId );
				</pre>
<h2>参数：</h2>
<ul><li>watchId: 
		<em>(
			<a href="#Number">Number</a>
			)
			必选 </em><br>需要取消的方向监听器标识，调用watchOrientation方法的返回值。</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持): 支持</li>
<li>iOS4.3+ (支持): 支持</li>
<li>WP7.5+ (支持): 暂不支持</li>
</ul>
<h1><a name="plus.orientation.OrientationOption">OrientationOption</a></h1>
<p>JSON对象，监听设备方向感应器参数</p>
<h2>属性：</h2>
<ul><li>frequency: <em>(<a href="#Number">Number</a>
	类型
)</em>更新方向信息的时间间隔<br><p>数值类型，单位为ms，默认值为500ms。</p>
</li></ul>
<h1><a name="plus.orientation.Rotation">Rotation</a></h1>
<p>JSON对象，设备方向信息数据</p>
<pre class="prettyprint linenums">
interface Rotation {
	readonly attribute float alpha;
	readonly attribute float beta;
	readonly attribute float gamma;
	readonly attribute float magneticHeading;
	readonly attribute float trueHeading;
	readonly attribute float headingAccuracy;
}
				</pre>
<h2>属性：</h2>
<ul>
<li>alpha: <em>(<a href="#float">float</a>
	类型
)</em>以z方向为轴心的旋转角度<br><p>浮点数类型，只读属性，取值范围为0到360（不等于360）。</p>
</li>
<li>beta: <em>(<a href="#float">float</a>
	类型
)</em>以x方向为轴心的旋转角度<br><p>浮点数类型，只读属性，取值范围为-180到180（不等于180）。</p>
</li>
<li>gamma: <em>(<a href="#float">float</a>
	类型
)</em>以y方向为轴心的旋转角度<br><p>浮点数类型，只读属性，取值范围为-180到180（不等于180）。</p>
</li>
<li>magneticHeading: <em>(<a href="#float">float</a>
	类型
)</em>设备方向与地球磁场北极方向的角度<br><p>浮点数类型，只读属性，取值范围为0到360（不等于360）。</p>
<h3>平台支持</h3>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持): iTouch、iPad设备不支持</li>
<li>WP7.5+ (支持)</li>
</ul>
</li>
<li>trueHeading: <em>(<a href="#float">float</a>
	类型
)</em>设备方向与地球真实北极方向的角度<br><p>浮点数类型，只读属性，取值范围为0到360（不等于360）。</p>
<h3>平台支持</h3>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持): iTouch、iPad设备不支持</li>
<li>WP7.5+ (支持)</li>
</ul>
</li>
<li>headingAccuracy: <em>(<a href="#float">float</a>
	类型
)</em>设备方向值的误差值<br><p>浮点数类型，只读属性，取值范围为0到360（不等于360）。</p>
<h3>平台支持</h3>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持): iTouch、iPad设备不支持</li>
<li>WP7.5+ (支持)</li>
</ul>
</li>
</ul>
<h1><a name="plus.orientation.OrientationSuccessCallback">OrientationSuccessCallback</a></h1>
<p>获取设备方向信息成功的回调函数</p>
<pre class="prettyprint linenums">
void onSuccess( rotation ){
	// Get orientation success code.
}
				</pre>
<h2>参数：</h2>
<ul><li>rotation: 
		<em>(
			<a href="#DOMString">DOMString</a>
			)
			必选 </em>设备的方向信息Rotation<br>
</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h1><a name="plus.orientation.OrientationErrorCallback">OrientationErrorCallback</a></h1>
<p>获取设备方向信息失败的回调函数</p>
<pre class="prettyprint linenums">
void onError( error ) {
	// Get orientation error code. 
}
				</pre>
<h2>参数：</h2>
<ul><li>error: 
		<em>(
			<a href="#DOMException">DOMException</a>
			)
			必选 </em>失败信息<br>
</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无</div>
</body>
</html>
