<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="HandheldFriendly" content="true">
<meta name="MobileOptimized" content="320">
<title>Hello H5+</title>
<link rel="stylesheet" type="text/css" href="res/doc.css" charset="utf-8">
<link rel="stylesheet" type="text/css" href="res/prettify.sons.css" charset="utf-8">
<script type="text/javascript" src="res/doc.js" charset="utf-8"></script><script type="text/javascript" src="res/prettify.js" charset="utf-8"></script>
</head>
<body>
<header><div class="nvbt iback" onclick="back();"></div>
<div class="nvtt">Cache Document</div></header><div id="content" class="content">
<h1><a name="plus.cache">cache</a></h1>
<p>Cache模块用于管理应用缓存，通过plus.cache获取缓存管理对象。</p>
<h2>方法：</h2>
<ul>
<li>
<a href="#plus.cache.clear">clear</a>: 清除应用的缓存数据</li>
<li>
<a href="#plus.cache.calculate">calculate</a>: 计算应用已使用的缓存数据大小</li>
<li>
<a href="#plus.cache.setMaxSize">setMaxSize</a>: 设置应用的可使用的最大缓存大小</li>
</ul>
<h2>回调方法：</h2>
<ul>
<li>
<a href="#plus.cache.CacheClearCallback">CacheClearCallback</a>: 清除应用缓存完成回调</li>
<li>
<a href="#plus.cache.CacheCalculateCallback">CacheCalculateCallback</a>: 计算应用使用缓存容量回调</li>
</ul>
<h2>权限：</h2>
<p>permissions</p>
<pre class="prettyprint linenums">
"Cache": {
	"description": "管理应用缓存"
}
			</pre>
<h1><a name="plus.cache.clear">clear</a></h1>
<p>清除应用的缓存数据</p>
<pre class="prettyprint linenums">
void plus.cache.clear( clearCB );
				</pre>
<h2>参数：</h2>
<ul><li>clearCB: 
		<em>(
			<a href="#plus.cache.CacheClearCallback">CacheClearCallback</a>
			)
			可选 </em>清除缓存操作完成回调函数<br>
</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+  (支持)</li>
<li>WP7.5+  (支持)</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"&gt;
	&lt;title&gt;Cache Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
// 扩展API加载完毕后调用onPlusReady回调函数 
document.addEventListener( "plusready", onPlusReady, false );
var r = null; 
// 扩展API加载完毕，现在可以正常调用扩展API 
function onPlusReady() { 
	plus.cache.clear( function () {
		alert( "Clear application cache successful!" );
	});
}
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.cache.calculate">calculate</a></h1>
<p>计算应用已使用的缓存数据大小</p>
<pre class="prettyprint linenums">
void plus.cache.calculate( calculateCB );
				</pre>
<h2>参数：</h2>
<ul><li>calculateCB: 
		<em>(
			<a href="#plus.cache.CacheCalculateCallback">CacheCalculateCallback</a>
			)
			必选 </em>计算缓存数据大小操作完成回调函数<br>
</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+  (支持)</li>
<li>WP7.5+  (支持)</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"&gt;
	&lt;title&gt;Cache Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
// 扩展API加载完毕后调用onPlusReady回调函数 
document.addEventListener( "plusready", onPlusReady, false );
// 扩展API加载完毕，现在可以正常调用扩展API 
function onPlusReady() {
	plus.cache.calculate( function ( size ) {
		alert( "Application cache size: " + size + " byte!" );
	});
}
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.cache.setMaxSize">setMaxSize</a></h1>
<p>设置应用的可使用的最大缓存大小</p>
<pre class="prettyprint linenums">
void plus.cache.setMaxSize( size );
				</pre>
<h2>说明：</h2>
<p class="des">
	应用缓存数据仅包括程序中使用webview产生的数据，不包括业务逻辑中使用扩展api保存的数据。
	当应用缓存数据超过设置的最大值时程序将自动删除过期的数据，保证应用缓存数据不超过设定的最大值。
	应用默认的缓存最大值不限，即取决于设备的可用空间大小。
				</p>
<h2>参数：</h2>
<ul><li>size: 
		<em>(
			<a href="#Number">Number</a>
			)
			必选 </em>应用可使用的最大缓存大小，单位为byte<br>
</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+  (支持)</li>
<li>WP7.5+  (支持)</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"&gt;
	&lt;title&gt;Cache Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
// 扩展API加载完毕后调用onPlusReady回调函数 
document.addEventListener( "plusready", onPlusReady, false );
// 扩展API加载完毕，现在可以正常调用扩展API 
function onPlusReady() {
	// 设置应用的最大缓存数据大小为10M 
	plus.cache.setMaxSize( 10*1024*1024 );
}
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.cache.CacheClearCallback">CacheClearCallback</a></h1>
<p>清除应用缓存完成回调</p>
<pre class="prettyprint linenums">
void onCompleted() {
	// Clear cache completed code.
}
				</pre>
<h2>说明：</h2>
<p class="des">清除应用缓存回调函数，调用plus.cache.clear清除缓存操作时作为参数传入，在清除缓存操作完成时触发回调。</p>
<h2>参数：</h2>
<ul></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+  (支持)</li>
<li>WP7.5+  (支持)</li>
</ul>
<h1><a name="plus.cache.CacheCalculateCallback">CacheCalculateCallback</a></h1>
<p>计算应用使用缓存容量回调</p>
<pre class="prettyprint linenums">
void onCompleted( size ) {
	// Calculate cache complete code.
}
				</pre>
<h2>说明：</h2>
<p class="des">计算应用当前使用缓存容量回调函数，调用plus.cache.calculate计算缓存容量操作时作为参数传入，在计算缓存容量大小完成时触发回调。</p>
<h2>参数：</h2>
<ul><li>size: 
		<em>(
			<a href="#Number">Number</a>
			)
			必选 </em>应用当前使用缓存的大小，单位为byte<br>
</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+  (支持)</li>
<li>WP7.5+  (支持)</li>
</ul>
</div>
</body>
</html>
