<!DOCTYPE HTML>
<html>
<head>
<meta charset="utf-8">
<meta name="viewport" content="initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no">
<meta name="HandheldFriendly" content="true">
<meta name="MobileOptimized" content="320">
<title>Hello H5+</title>
<link rel="stylesheet" type="text/css" href="res/doc.css" charset="utf-8">
<link rel="stylesheet" type="text/css" href="res/prettify.sons.css" charset="utf-8">
<script type="text/javascript" src="res/doc.js" charset="utf-8"></script><script type="text/javascript" src="res/prettify.js" charset="utf-8"></script>
</head>
<body>
<header><div class="nvbt iback" onclick="back();"></div>
<div class="nvtt">Accelerometer Document</div></header><div id="content" class="content">
<h1><a name="plus.accelerometer">accelerometer</a></h1>
<p>Accelerometer模块管理设备加速度传感器，用于获取设备加速度信息，包括x（屏幕水平方向）、y（垂直屏幕水平方向）、z（垂直屏幕平面方向）三个方向的加速度信息。通过plus.accelerometer获取设备加速度传感器管理对象。</p>
<h2>方法：</h2>
<ul>
<li>
<a href="#plus.accelerometer.getCurrentAcceleration">getCurrentAcceleration</a>: 获取当前设备的加速度信息</li>
<li>
<a href="#plus.accelerometer.watchAcceleration">watchAcceleration</a>: 监听设备加速度变化信息</li>
<li>
<a href="#plus.accelerometer.clearWatch">clearWatch</a>: 关闭监听设备加速度信息</li>
</ul>
<h2>对象：</h2>
<ul>
<li>
<a href="#plus.accelerometer.Acceleration">Acceleration</a>: 设备加速度信息对象</li>
<li>
<a href="#plus.accelerometer.AccelerometerOption">AccelerometerOption</a>: 监听设备加速度感应器参数</li>
</ul>
<h2>回调方法：</h2>
<ul>
<li>
<a href="#plus.accelerometer.AccelerometerSuccessCallback">AccelerometerSuccessCallback</a>: 获取设备加速度信息成功的回调函数</li>
<li>
<a href="#plus.accelerometer.AccelerometerErrorCallback">AccelerometerErrorCallback</a>: 获取设备加速度信息失败的回调函数</li>
</ul>
<h2>权限：</h2>
<p>permissions</p>
<pre class="prettyprint linenums">
"Accelerometer": {
	"description": "访问加速度感应器设备"
}
			</pre>
<h1><a name="plus.accelerometer.getCurrentAcceleration">getCurrentAcceleration</a></h1>
<p>获取当前设备的加速度信息</p>
<pre class="prettyprint linenums">
void plus.accelerometer.getCurrentAcceleration( successCB, errorCB );
				</pre>
<h2>说明：</h2>
<p class="des">
	加速度是设备在当前方向上所做相对运动变化（增、减量）的运动传感器。加速度信息包括x、y、z三个方向的信息。
	加速度信息可通过successCB回调函数返回。加速度信息获取失败则调用回调函数errorCB。
				</p>
<h2>参数：</h2>
<ul>
<li>successCB: 
		<em>(
			<a href="#plus.accelerometer.AccelerometerSuccessCallback">AccelerometerSuccessCallback</a>
			)
			必选 </em>获取设备加速度信息成功回调函数<br>
</li>
<li>errorCB: 
		<em>(
			<a href="#plus.accelerometer.AccelerometerErrorCallback">AccelerometerErrorCallback</a>
			)
			可选 </em>获取设备加速度信息失败回调函数<br>
</li>
</ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持)</li>
<li>WP7.5+ (支持)</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"/&gt;
	&lt;meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/&gt;
	&lt;title&gt;Accelerometer Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
// 监听plusready事件  
document.addEventListener( "plusready", function(){
	// 扩展API加载完毕，现在可以正常调用扩展API
	plus.accelerometer.getCurrentAcceleration( function( a ) {
		alert( "Acceleration\nx:" + a.xAxis + "\ny:" + a.yAxis + "\nz:" + a.zAxis );
	} );
}, false );
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.accelerometer.watchAcceleration">watchAcceleration</a></h1>
<p>监听设备加速度变化信息</p>
<pre class="prettyprint linenums">
Number plus.accelerometer.watchAcceleration( successCB, errorCB, option );
				</pre>
<h2>说明：</h2>
<p class="des">
加速度是设备在当前方向上所做相对运动变化（增、减量）的运动传感器。加速度信息包括x、y、z三个方向的信息。
watchAcceleration每隔固定时间就获取一次设备的加速度信息，通过successCB回调函数返回。可通过option的frequency参数设定获取设备加速度信息的时间间隔。
加速度信息获取失败则调用回调函数errorCB。
				</p>
<h2>参数：</h2>
<ul>
<li>successCB: 
		<em>(
			<a href="#plus.accelerometer.AccelerometerSuccessCallback">AccelerometerSuccessCallback</a>
			)
			必选 </em>成功回调函数<br>当获取设备的加速度信息成功时回调，并返回加速度信息。</li>
<li>errorCB: 
		<em>(
			<a href="#plus.accelerometer.AccelerometerErrorCallback">AccelerometerErrorCallback</a>
			)
			可选 </em>失败回调函数<br>当获取设备加速度信息失败回调函数，并返回错误信息。</li>
<li>options: 
		<em>(
			<a href="#plus.accelerometer.AccelerometerOption">AccelerometerOption</a>
			)
			可选 </em>加速度信息参数<br>监听设备加速度信息的参数，如更新数据的频率等。</li>
</ul>
<h2>返回值：</h2>
<a href="#Number">Number</a>
			: 
用于标识加速度信息监听器，可通过clearWatch方法取消监听。
					<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持)</li>
<li>WP7.5+ (支持)</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"/&gt;
	&lt;meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/&gt;
	&lt;title&gt;Accelerometer Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
// 监听plusready事件  
document.addEventListener( "plusready", function(){
	// 扩展API加载完毕，现在可以正常调用扩展API
	var acc = document.getElementById("acc");
	plus.accelerometer.watchAcceleration( function ( a ) {
		acc.innerText =  "x:" + a.xAxis + "\ny:" + a.yAxis + "\nz:" + a.zAxis;
	}, function ( e ) {
		alert( "Acceleration error: " + e.message ); 
	} ); 
}, false );
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		Acceleration:&lt;br/&gt;
		&lt;p id="acc"&gt;&lt;/p&gt;
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.accelerometer.clearWatch">clearWatch</a></h1>
<p>关闭监听设备加速度信息</p>
<pre class="prettyprint linenums">
void plus.accelerometer.clearWatch( watchId );
				</pre>
<h2>说明：</h2>
<p class="des">
	关闭监听设备加速度信息，应用关闭调用watchAcceleration方法的开启的监听操作。
				</p>
<h2>参数：</h2>
<ul><li>watchId: 
		<em>(
			<a href="#Number">Number</a>
			)
			必选 </em><br>需要取消的加速度监听器标识，调用watchAcceleration方法的返回值。</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持)</li>
<li>WP7.5+ (支持)</li>
</ul>
<h2>示例：</h2>
<pre class="prettyprint linenums">
&lt;!DOCTYPE html&gt;
&lt;html&gt;
	&lt;head&gt;
	&lt;meta charset="utf-8"/&gt;
	&lt;meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/&gt;
	&lt;title&gt;Accelerometer Example&lt;/title&gt;
	&lt;script type="text/javascript"&gt;
var wid = null;
// 监听plusready事件  
document.addEventListener( "plusready", function(){
	// 扩展API加载完毕，现在可以正常调用扩展API
	var acc = document.getElementById("acc");
	wid = plus.accelerometer.watchAcceleration( function ( a ) {
		acc.innerText =  "x:" + a.xAxis + "\ny:" + a.yAxis + "\nz:" + a.zAxis;
	}, function ( e ) {
		alert( "Acceleration error: " + e.message ); 
	} ); 
}, false );
function cancel() {
	plus.accelerometer.clearWatch( wid );
	wid = null;
}
	&lt;/script&gt;
	&lt;/head&gt;
	&lt;body&gt;
		Acceleration:&lt;br/&gt;
		&lt;p id="acc"&gt;&lt;/p&gt;&lt;br/&gt;
		&lt;button onclick="cancel()"&gt;Cancel&lt;/button&gt;
	&lt;/body&gt;
&lt;/html&gt;
				</pre>
<h1><a name="plus.accelerometer.Acceleration">Acceleration</a></h1>
<p>设备加速度信息对象</p>
<pre class="prettyprint linenums">
interface Acceleration {
	readonly attribute Number xAxis;
	readonly attribute Number yAxis;
	readonly attribute Number zAxis;  
}
				</pre>
<h2>说明：</h2>
<p class="des">
	保存获取设备的加速度信息，包括x、y、z三个方向的加速度信息。
				</p>
<h2>属性：</h2>
<ul>
<li>xAxis: <em>(<a href="#Number">Number</a>
	类型
)</em>x轴方向的加速度<br><p>获取当前设备x轴方向的加速度，浮点型数据，与物理学中的加速度值一致。</p>
</li>
<li>yAxis: <em>(<a href="#Number">Number</a>
	类型
)</em>y轴方向的加速度<br><p>获取当前设备y轴方向的加速度，浮点型数据，与物理学中的加速度值一致。</p>
</li>
<li>zAxis: <em>(<a href="#Number">Number</a>
	类型
)</em>z轴方向的加速度<br><p>获取当前设备z轴方向的加速度，浮点型数据，与物理学中的加速度值一致。</p>
</li>
</ul>
<h1><a name="plus.accelerometer.AccelerometerOption">AccelerometerOption</a></h1>
<p>监听设备加速度感应器参数</p>
<pre class="prettyprint linenums">
interface Acceleration {
	readonly attribute DOMString frequency;
}
				</pre>
<h2>说明：</h2>
<p class="des">
	JSON对象，用于设置获取设备加速度信息的参数。
				</p>
<h2>属性：</h2>
<ul><li>frequency: <em>(<a href="#DOMString">DOMString</a>
	类型
)</em>更新加速度信息间隔时间<br><p>监听器获取加速度信息的时间间隔，单位为ms，默认值为500ms</p>
</li></ul>
<h1><a name="plus.accelerometer.AccelerometerSuccessCallback">AccelerometerSuccessCallback</a></h1>
<p>获取设备加速度信息成功的回调函数</p>
<pre class="prettyprint linenums">
void onSuccess( acceleration ) {
	// Get acceleration code.
}
				</pre>
<h2>参数：</h2>
<ul><li>acceleration: 
		<em>(
			<a href="#plus.accelerometer.Acceleration">Acceleration</a>
			)
			必选 </em>设备的加速度信息<br>Acceleration类型对象，用于获取各方向的详细加速度值。</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持)</li>
<li>WP7.5+ (支持)</li>
</ul>
<h1><a name="plus.accelerometer.AccelerometerErrorCallback">AccelerometerErrorCallback</a></h1>
<p>获取设备加速度信息失败的回调函数</p>
<pre class="prettyprint linenums">
void onError( error ) {
	// Handle error
}
				</pre>
<h2>参数：</h2>
<ul><li>error: 
		<em>(
			<a href="#DOMException">DOMException</a>
			)
			必选 </em>获取加速度操作的错误信息<br>
</li></ul>
<h2>返回值：</h2>
<a href="#void">void</a>
			: 无<h2>平台支持：</h2>
<ul>
<li>Android2.2+ (支持)</li>
<li>iOS4.3+ (支持)</li>
<li>WP7.5+ (支持)</li>
</ul>
</div>
</body>
</html>
