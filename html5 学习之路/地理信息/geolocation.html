<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>无标题文档</title>
<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=28fced525a9eca3c9059d5717918d8a4"></script>
<script>
	function success(position){				//成功函数
		var la=position.coords.latitude;  //维度
		var lo=position.coords.longitude;  //经度
		
		var map = new BMap.Map("map");                        // 创建Map实例   (传入自己的div)
			map.centerAndZoom(new BMap.Point(lo,la), 15);     // 初始化地图,设置中心点坐标和地图级别
			map.addControl(new BMap.NavigationControl());               // 添加平移缩放控件
			map.addControl(new BMap.ScaleControl());                    // 添加比例尺控件
			map.addControl(new BMap.OverviewMapControl());              //添加缩略地图控件
			map.enableScrollWheelZoom();                            //启用滚轮放大缩小
			map.addControl(new BMap.MapTypeControl());          //添加地图类型控件
			map.setCurrentCity("杭州");          // 设置地图显示的城市 此项是必须设置的
			
	}	
	function error(errorCode){					  //获取位置失败的函数
		alert(errorCode.code+'=>'+errorCode.message);	
	}
	var options={};
	if(navigator.geolocation){				//判断浏览器是否支持
		navigator.geolocation.getCurrentPosition(success,error,options)	
	}else{
		alert('呵呵')
	}
</script>
</head>

<body>
<div id="map" style="width:500px;height:500px;">
</div>
</body>
</html>
